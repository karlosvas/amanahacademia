---
import "@/styles/global.css";
import SEO from "@/components/SEO/SEO.astro";

export interface Props {
  lang?: string;
  title?: string;
  description?: string;
  canonical?: string;
  ogImage?: string;
  noindex?: boolean;
  keywords?: string;
  structuredDataType?: "organization" | "course" | "webpage";
  structuredData?: Record<string, any>;
}

const {
  lang = "es",
  title = "Amanah Academia - Aprende idiomas online",
  description = "Academia de idiomas online especializada en árabe y otros idiomas. Clases con profesores nativos.",
  canonical,
  ogImage,
  noindex,
  keywords,
  structuredDataType,
  structuredData,
} = Astro.props;
---

<!doctype html>
<html lang={lang} class="m-0 w-full h-full">
  <head>
    <!-- Antes de cargar la pagina verificamos is ya teniamos tema previo -->
    <script is:inline>
      (function () {
        try {
          const savedTheme = localStorage.getItem("theme") || "light";
          document.documentElement.className = savedTheme;
        } catch (e) {
          document.documentElement.className = "light";
        }
      })();
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <!-- Favicon clásico para compatibilidad total -->
    <link rel="icon" type="image/x-icon" href="/favicon/favicon.ico" />
    <!-- Favicon SVG (para navegadores que lo soporten) -->
    <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
    <!-- PNG de fallback -->
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png" />
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="/favicon/apple-touch-icon.png" sizes="180x180" />
    <!-- Manifest PWA -->
    <link rel="manifest" href="/favicon/site.webmanifest" />

    <!-- SEO Components -->
    <SEO
      title={title}
      description={description}
      canonical={canonical}
      ogImage={ogImage}
      noindex={noindex}
      keywords={keywords}
      structuredDataType={structuredDataType}
      structuredData={structuredData}
    />
  </head>
  <body class="m-0 w-full h-full bg-background">
    <slot />
  </body>
</html>
