---
import type { StructureDataTypes } from "@/types/types";

const { type = "organization", data = {} } = Astro.props as StructureDataTypes;

// Schema base para la organizaci칩n
const organizationSchema = {
  "@context": "https://schema.org",
  "@type": "EducationalOrganization",
  name: "Amanah Academia",
  url: "https://amanahacademia.com",
  description: "Academia de idiomas especializada en 치rabe y otros idiomas",
  address: {
    "@type": "PostalAddress",
    addressCountry: "ES",
  },
  sameAs: ["https://www.instagram.com/amanahacademia"],
  offers: {
    "@type": "Offer",
    category: "Educaci칩n de idiomas",
  },
};

// Schema para cursos
const courseSchema = {
  "@context": "https://schema.org",
  "@type": "Course",
  name: data.name || "Cursos de idiomas",
  description: data.description || "Aprende idiomas con profesores nativos",
  provider: {
    "@type": "EducationalOrganization",
    name: "Amanah Academia",
    url: "https://amanahacademia.com",
  },
  courseMode: "online",
  educationalCredentialAwarded: "Certificado de idiomas",
};

// Schema para p치ginas web
const webpageSchema = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  name: data.title || "Amanah Academia",
  description: data.description || "Academia de idiomas online",
  url: data.url || Astro.url.href,
  isPartOf: {
    "@type": "WebSite",
    name: "Amanah Academia",
    url: "https://amanahacademia.com",
  },
};

let schema;
switch (type) {
  case "course":
    schema = { ...courseSchema, ...data };
    break;
  case "webpage":
    schema = { ...webpageSchema, ...data };
    break;
  default:
    schema = { ...organizationSchema, ...data };
}
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
