---
import App from "@/layouts/App.astro";
import { getI18N } from "@/../i18n/index";
import Layout from "@/layouts/Layout.astro";
import Main from "@/components/Main.astro";
import Home from "@/components/Home.astro";

// Creamos todas las rutas a los posibles idiomas
export async function getStaticPaths() {
  return [
    { params: { lang: "en" } },
    { params: { lang: "en" } },
    { params: { lang: "fr" } },
    { params: { lang: "de" } },
    { params: { lang: "it" } },
    { params: { lang: "pt" } },
    { params: { lang: "ar" } },
  ];
}

// Obtenemos el idioma obtenido mediante la ruta
const { lang } = Astro.params;
const data = getI18N({ lang });
---

<Layout>
  <App data={data}>
    <Main>
      <Home data={data.main} />
    </Main>
  </App>
</Layout>
